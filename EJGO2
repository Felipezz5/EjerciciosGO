package main

import (
    "fmt"
    "sync"
)

func productor(canal chan int, wg *sync.WaitGroup) {
    defer wg.Done()
    for i := 1; i <= 10; i++ {
        canal <- i
        fmt.Printf("Producido: %d\n", i)
    }
    close(canal) // Cerrar el canal cuando termine
}

func consumidor(canal chan int, wg *sync.WaitGroup) {
    defer wg.Done()
    for numero := range canal {
        if numero%2 == 0 {
            fmt.Printf("Número par recibido: %d\n", numero)
        }
    }
}

func main() {
    var wg sync.WaitGroup
    canal := make(chan int)
    
    wg.Add(2)
    
    go productor(canal, &wg)
    go consumidor(canal, &wg)
    
    wg.Wait()
    fmt.Println("Proceso de comunicación completado")
}
